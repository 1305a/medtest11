(function(){"use strict";var t={1259:function(t,e,n){var o={};n.r(o);var i=n(9242),s=n(3396);function r(t,e,n,o,i,r){const a=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(a)}var a={name:"App",components:{}},u=n(89);const c=(0,u.Z)(a,[["render",r]]);var d=c,l=(n(7658),n(65)),T=n(4161),p=n(2483),f=n(7139);const h={class:"main-wrapper"},v={class:"main-page"},m={class:"center-container"},g={key:1,class:"answer-section"},k=["id","value"],w=["for"],I={class:"answer-item-new-input"},S={class:"circle-button"},q={key:0,class:"circle-button-point"},C={class:"answer-label-text"},_={class:"footer-section"};function x(t,e,n,o,r,a){const u=(0,s.up)("TextContent"),c=(0,s.up)("ContinueModal");return(0,s.wg)(),(0,s.iD)("div",h,[(0,s._)("div",v,[(0,s._)("div",m,[t.infoText?((0,s.wg)(),(0,s.j4)(u,{key:0,text:t.infoText,class:(0,f.C_)(["text-section",{"text-without-answers":t.answerTransitions.length<2}])},null,8,["text","class"])):(0,s.kq)("",!0),t.answerTransitions.length>1?((0,s.wg)(),(0,s.iD)("div",g,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.answerTransitions,((t,n)=>((0,s.wg)(),(0,s.iD)("div",{key:n,class:(0,f.C_)(["answer-item",{"answer-item-checked":r.pickedTransitionId===t.transitionId}])},[(0,s.wy)((0,s._)("input",{type:"radio",id:n,value:t.transitionId,"onUpdate:modelValue":e[0]||(e[0]=t=>r.pickedTransitionId=t),class:"answer-item-input"},null,8,k),[[i.G2,r.pickedTransitionId]]),(0,s._)("label",{for:n,class:"answer-label"},[(0,s._)("div",I,[(0,s._)("div",S,[r.pickedTransitionId===t.transitionId?((0,s.wg)(),(0,s.iD)("div",q)):(0,s.kq)("",!0)])]),(0,s._)("div",C,(0,f.zw)(t.answerText),1)],8,w)],2)))),128))])):(0,s.kq)("",!0),(0,s._)("div",_,[t.questionStack.length>1?((0,s.wg)(),(0,s.iD)("div",{key:0,onClick:e[1]||(e[1]=(...t)=>a.previousQuestionAndClearPicked&&a.previousQuestionAndClearPicked(...t)),class:"footer-button"}," Назад ")):(0,s.kq)("",!0),t.answerTransitions.length>0?((0,s.wg)(),(0,s.iD)("div",{key:1,onClick:e[2]||(e[2]=(...t)=>a.nextQuestionAndClearPicked&&a.nextQuestionAndClearPicked(...t)),class:"footer-button"}," Далее ")):(0,s.kq)("",!0),t.infoText&&0===t.answerTransitions.length?((0,s.wg)(),(0,s.iD)("div",{key:2,onClick:e[3]||(e[3]=(...e)=>t.newTest&&t.newTest(...e)),class:"footer-button"}," Пройти еще раз ")):(0,s.kq)("",!0)])])]),r.showContinueModal?((0,s.wg)(),(0,s.j4)(c,{key:0,onCheckContinueTest:e[4]||(e[4]=t=>a.checkContinueTest(t))})):(0,s.kq)("",!0)])}function b(t,e,n,o,i,r){return(0,s.wg)(),(0,s.iD)("div",null,(0,f.zw)(n.text),1)}var y={props:{text:String}};const Q=(0,u.Z)(y,[["render",b]]);var O=Q;const A={class:"continue-wrapper"},D={class:"continue-page"},L=(0,s._)("div",{class:"continue-text"}," Продолжить выполнение сценария или начать сначала? ",-1),E={class:"footer-section"};function G(t,e,n,o,i,r){return(0,s.wg)(),(0,s.iD)("div",A,[(0,s._)("div",D,[L,(0,s._)("div",E,[(0,s._)("div",{onClick:e[0]||(e[0]=t=>r.checkContinueTest(!0)),class:"footer-button"}," Продолжить "),(0,s._)("div",{onClick:e[1]||(e[1]=t=>r.checkContinueTest(!1)),class:"footer-button"}," Начать с начала ")])])])}var M={methods:{checkContinueTest(t){this.$emit("checkContinueTest",t)}}};const j=(0,u.Z)(M,[["render",G]]);var N=j,P={data(){return{pickedTransitionId:"",showContinueModal:!1,questionListFromLocalStorage:[]}},components:{TextContent:O,ContinueModal:N},computed:{...(0,l.Se)(["testId","questionId","parentId","infoText","questionText","answerTransitions","questionStack","startQuestionId"])},methods:{...(0,l.nv)(["GET_QUESTION_DATA","setCurrentTransitionId","nextQuestion","previousQuestion","continueTest","newTest"]),previousQuestionAndClearPicked(){this.pickedTransitionId="",this.previousQuestion()},nextQuestionAndClearPicked(){this.pickedTransitionId="",this.nextQuestion()},checkLocalStorage(){const t=localStorage.getItem(`questionList${this.testId}`);if(t){const e=JSON.parse(t);e.length>1?(console.log(e),this.questionListFromLocalStorage=e,this.openContinueModal()):this.createLocalStorage()}else this.createLocalStorage()},createLocalStorage(){localStorage.setItem(`questionList${this.testId}`,JSON.stringify([this.startQuestionId])),this.GET_QUESTION_DATA()},openContinueModal(){this.showContinueModal=!0},checkContinueTest(t){this.showContinueModal=!1,t?this.continueTest(this.questionListFromLocalStorage):this.newTest()}},mounted(){this.checkLocalStorage(),this.pickedTransitionId=""},watch:{pickedTransitionId(t){this.setCurrentTransitionId(t)}}};const U=(0,u.Z)(P,[["render",x]]);var F=U,Z=n.p+"img/startGame1.b11fe1a8.svg";const $={class:"main-wrapper"},J=(0,s._)("div",{class:"start-image-container"},[(0,s._)("img",{src:Z,alt:""})],-1);function z(t,e,n,o,i,r){const a=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",$,[J,(0,s._)("div",null,[(0,s.Wm)(a,{to:"/game"},{default:(0,s.w5)((()=>[(0,s._)("div",{onClick:e[0]||(e[0]=(...t)=>r.moveToGame&&r.moveToGame(...t)),class:"footer-button"}," Начать ")])),_:1})])])}var R={methods:{moveToGame(){}}};const H=(0,u.Z)(R,[["render",z]]);var K=H;const V=[{path:"/",name:"start",component:K},{path:"/game",name:"game",component:F}],W=(0,p.p7)({history:(0,p.r5)(),routes:V});var Y=W,B=(0,l.MT)({state:{serverURL:"https://dev1.med-game.ru/api/v1",testId:11,startQuestionId:563,questionId:563,parentId:0,infoText:"",questionText:"",answerTransitions:[],currentTransitionId:0,questionStack:[563]},getters:{testId(t){return t.testId},questionId(t){return t.questionId},parentId(t){return t.parentId},infoText(t){return t.infoText},questionText(t){return t.questionText},answerTransitions(t){return t.answerTransitions},questionStack(t){return t.questionStack},startQuestionId(t){return t.startQuestionId}},mutations:{setDataQuestion(t,e){t.infoText=e.body.infoText,t.questionText=e.body.questionText,t.answerTransitions=e.body.answerTransitions,1===e.body.answerTransitions.length?t.currentTransitionId=e.body.answerTransitions[0].transitionId:t.currentTransitionId=0},setQuestionId(t,e){t.questionId=e},setCurrentTransitionId(t,e){t.currentTransitionId=e},addToStack(t,e){t.questionStack.push(e)},removeFromStack(t){t.questionStack.pop(),t.questionId=t.questionStack[t.questionStack.length-1]},addToLocalStorage(t){localStorage.setItem(`questionList${t.testId}`,JSON.stringify(t.questionStack))},continueTest(t,e){t.questionStack=e,t.questionId=e[e.length-1]},newTest(t){t.questionStack=[t.startQuestionId],t.questionId=t.startQuestionId,Y.push("/")}},actions:{GET_QUESTION_DATA({state:t,commit:e}){(0,T.Z)({method:"get",url:`${t.serverURL}/question/${t.questionId}`}).then((t=>{e("setDataQuestion",t.data.data)})).catch((t=>(console.log("Ошибка:"),console.log(t),t)))},nextQuestion({commit:t,dispatch:e,state:n}){if(n.currentTransitionId)return t("addToStack",n.currentTransitionId),t("addToLocalStorage"),t("setQuestionId",n.currentTransitionId),e("GET_QUESTION_DATA");console.log("Не выбран ответ")},previousQuestion({commit:t,dispatch:e}){return t("removeFromStack"),t("addToLocalStorage"),e("GET_QUESTION_DATA")},setCurrentTransitionId({commit:t},e){t("setCurrentTransitionId",e)},continueTest({commit:t,dispatch:e},n){return t("continueTest",n),e("GET_QUESTION_DATA")},newTest({commit:t,dispatch:e}){return t("newTest"),t("addToLocalStorage"),e("GET_QUESTION_DATA")}},modules:{}});(0,i.ri)(d).use(B).use(Y).use(o["default"]).mount("#app")}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,o,i,s){if(!o){var r=1/0;for(d=0;d<t.length;d++){o=t[d][0],i=t[d][1],s=t[d][2];for(var a=!0,u=0;u<o.length;u++)(!1&s||r>=s)&&Object.keys(n.O).every((function(t){return n.O[t](o[u])}))?o.splice(u--,1):(a=!1,s<r&&(r=s));if(a){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[o,i,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,s,r=o[0],a=o[1],u=o[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(u)var d=u(n)}for(e&&e(o);c<r.length;c++)s=r[c],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(d)},o=self["webpackChunkmedtest12"]=self["webpackChunkmedtest12"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(1259)}));o=n.O(o)})();
//# sourceMappingURL=app.00280c2a.js.map