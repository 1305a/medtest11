(function(){"use strict";var t={4169:function(t,e,n){var o=n(9242),i=n(3396);function s(t,e,n,o,s,r){const a=(0,i.up)("MainPage");return(0,i.wg)(),(0,i.j4)(a)}var r=n(7139);const a={class:"main-wrapper"},u={class:"main-page"},c={key:2,class:"answer-section"},d=["id","value"],l=["for"],T={class:"footer-section"};function h(t,e,n,s,h,p){const f=(0,i.up)("TextContent"),k=(0,i.up)("ContinueModal");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",u,[t.infoText?((0,i.wg)(),(0,i.j4)(f,{key:0,text:t.infoText,class:"text-section"},null,8,["text"])):(0,i.kq)("",!0),t.questionText?((0,i.wg)(),(0,i.j4)(f,{key:1,text:t.questionText,class:"text-section"},null,8,["text"])):(0,i.kq)("",!0),t.answerTransitions.length>1?((0,i.wg)(),(0,i.iD)("div",c,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.answerTransitions,((t,n)=>((0,i.wg)(),(0,i.iD)("div",{key:n,class:"answer-item"},[(0,i.wy)((0,i._)("input",{type:"radio",id:n,value:t.transitionId,"onUpdate:modelValue":e[0]||(e[0]=t=>h.pickedTransitionId=t)},null,8,d),[[o.G2,h.pickedTransitionId]]),(0,i._)("label",{for:n},(0,r.zw)(t.answerText),9,l)])))),128))])):(0,i.kq)("",!0),(0,i._)("div",T,[t.questionStack.length>1?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:e[1]||(e[1]=(...t)=>p.previousQuestionAndClearPicked&&p.previousQuestionAndClearPicked(...t))}," Назад ")):(0,i.kq)("",!0),t.answerTransitions.length>0?((0,i.wg)(),(0,i.iD)("button",{key:1,onClick:e[2]||(e[2]=(...t)=>p.nextQuestionAndClearPicked&&p.nextQuestionAndClearPicked(...t))}," Далее ")):(0,i.kq)("",!0)])]),h.showContinueModal?((0,i.wg)(),(0,i.j4)(k,{key:0,onCheckContinueTest:e[3]||(e[3]=t=>p.checkContinueTest(t))})):(0,i.kq)("",!0)])}var p=n(65);function f(t,e,n,o,s,a){return(0,i.wg)(),(0,i.iD)("div",null,(0,r.zw)(n.text),1)}var k={props:{text:String}},I=n(89);const g=(0,I.Z)(k,[["render",f]]);var v=g;const w={class:"continue-wrapper"},m={class:"continue-page"},S=(0,i._)("div",null," Продолжить? ",-1),q={class:"button-list"};function x(t,e,n,o,s,r){return(0,i.wg)(),(0,i.iD)("div",w,[(0,i._)("div",m,[S,(0,i._)("div",q,[(0,i._)("button",{onClick:e[0]||(e[0]=t=>r.checkContinueTest(!0))},"Продолжить"),(0,i._)("button",{onClick:e[1]||(e[1]=t=>r.checkContinueTest(!1))},"Начать с начала")])])])}var C={methods:{checkContinueTest(t){this.$emit("checkContinueTest",t)}}};const Q=(0,I.Z)(C,[["render",x]]);var b=Q,y={data(){return{pickedTransitionId:"",showContinueModal:!1,questionListFromLocalStorage:[]}},components:{TextContent:v,ContinueModal:b},computed:{...(0,p.Se)(["testId","questionId","parentId","infoText","questionText","answerTransitions","questionStack","startQuestionId"])},methods:{...(0,p.nv)(["GET_QUESTION_DATA","setCurrentTransitionId","nextQuestion","previousQuestion","continueTest","newTest"]),previousQuestionAndClearPicked(){this.pickedTransitionId="",this.previousQuestion()},nextQuestionAndClearPicked(){this.pickedTransitionId="",this.nextQuestion()},checkLocalStorage(){const t=localStorage.getItem(`questionList${this.testId}`);if(t){const e=JSON.parse(t);e.length>1?(console.log(e),this.questionListFromLocalStorage=e,this.openContinueModal()):this.createLocalStorage()}else this.createLocalStorage()},createLocalStorage(){localStorage.setItem(`questionList${this.testId}`,JSON.stringify([this.startQuestionId])),this.GET_QUESTION_DATA()},openContinueModal(){this.showContinueModal=!0},checkContinueTest(t){this.showContinueModal=!1,t?this.continueTest(this.questionListFromLocalStorage):this.newTest()}},mounted(){this.checkLocalStorage(),this.pickedTransitionId=""},watch:{pickedTransitionId(t){this.setCurrentTransitionId(t)}}};const _=(0,I.Z)(y,[["render",h]]);var A=_,O={name:"App",components:{MainPage:A}};const L=(0,I.Z)(O,[["render",s]]);var D=L,E=(n(7658),n(4161)),M=(0,p.MT)({state:{serverURL:"https://dev1.med-game.ru/api/v1",testId:11,startQuestionId:563,questionId:563,parentId:0,infoText:"",questionText:"",answerTransitions:[],currentTransitionId:0,questionStack:[563]},getters:{testId(t){return t.testId},questionId(t){return t.questionId},bodyData(t){return t.bodyData},parentId(t){return t.parentId},infoText(t){return t.infoText},questionText(t){return t.questionText},answerTransitions(t){return t.answerTransitions},questionStack(t){return t.questionStack},startQuestionId(t){return t.startQuestionId}},mutations:{setDataQuestion(t,e){t.infoText=e.body.infoText,t.questionText=e.body.questionText,t.answerTransitions=e.body.answerTransitions,1===e.body.answerTransitions.length?t.currentTransitionId=e.body.answerTransitions[0].transitionId:t.currentTransitionId=0},setQuestionId(t,e){t.questionId=e},setCurrentTransitionId(t,e){t.currentTransitionId=e},addToStack(t,e){t.questionStack.push(e)},removeFromStack(t){t.questionStack.pop(),t.questionId=t.questionStack[t.questionStack.length-1]},addToLocalStorage(t){localStorage.setItem(`questionList${t.testId}`,JSON.stringify(t.questionStack))},continueTest(t,e){t.questionStack=e,t.questionId=e[e.length-1]},newTest(t){t.questionStack=[t.startQuestionId],t.questionId=t.startQuestionId}},actions:{GET_QUESTION_DATA({state:t,commit:e}){(0,E.Z)({method:"get",url:`${t.serverURL}/question/${t.questionId}`}).then((t=>{e("setDataQuestion",t.data.data)})).catch((t=>(console.log("Ошибка:"),console.log(t),t)))},nextQuestion({commit:t,dispatch:e,state:n}){if(n.currentTransitionId)return t("addToStack",n.currentTransitionId),t("addToLocalStorage"),t("setQuestionId",n.currentTransitionId),e("GET_QUESTION_DATA");console.log("Не выбран ответ")},previousQuestion({commit:t,dispatch:e}){return t("removeFromStack"),t("addToLocalStorage"),e("GET_QUESTION_DATA")},setCurrentTransitionId({commit:t},e){t("setCurrentTransitionId",e)},continueTest({commit:t,dispatch:e},n){return t("continueTest",n),e("GET_QUESTION_DATA")},newTest({commit:t,dispatch:e}){return t("newTest"),t("addToLocalStorage"),e("GET_QUESTION_DATA")}},modules:{}});(0,o.ri)(D).use(M).mount("#app")}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,o,i,s){if(!o){var r=1/0;for(d=0;d<t.length;d++){o=t[d][0],i=t[d][1],s=t[d][2];for(var a=!0,u=0;u<o.length;u++)(!1&s||r>=s)&&Object.keys(n.O).every((function(t){return n.O[t](o[u])}))?o.splice(u--,1):(a=!1,s<r&&(r=s));if(a){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[o,i,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,s,r=o[0],a=o[1],u=o[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(u)var d=u(n)}for(e&&e(o);c<r.length;c++)s=r[c],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(d)},o=self["webpackChunkmedtest12"]=self["webpackChunkmedtest12"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(4169)}));o=n.O(o)})();
//# sourceMappingURL=app.310d5427.js.map